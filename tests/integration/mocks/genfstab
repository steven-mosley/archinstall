#!/bin/bash
# Mock genfstab command - with your preferred mount options and without subvolid

echo "# /etc/fstab: static file system information"
echo "# <file system> <mount point> <type> <options> <dump> <pass>"

if [[ "$1" == "-U" ]]; then
    echo "UUID=mock-uuid-root / btrfs rw,noatime,discard=async,compress=zstd,space_cache=v2,subvol=@ 0 0"
    echo "UUID=mock-uuid-root /home btrfs rw,noatime,discard=async,compress=zstd,space_cache=v2,subvol=@home 0 0"
    echo "UUID=mock-uuid-root /var/cache/pacman/pkg btrfs rw,noatime,discard=async,compress=zstd,space_cache=v2,subvol=@pkg 0 0"
    echo "UUID=mock-uuid-root /var/log btrfs rw,noatime,discard=async,compress=zstd,space_cache=v2,subvol=@log 0 0"
    echo "UUID=mock-uuid-efi /efi vfat rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro 0 2"
fi

exit 0
